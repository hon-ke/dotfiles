# systemd-logind 配置文件
# 位置：/etc/systemd/logind.conf
#
# 修改后重启服务生效：sudo systemctl restart systemd-logind
# 查看完整配置：systemd-analyze cat-config systemd/logind.conf

[Login]

# =============================================
# 虚拟终端设置
# =============================================

# 自动创建的虚拟终端数量 (整数)
# 默认: 6 (tty1-tty6)
# 作用: 定义系统启动时自动创建的虚拟终端数量
#NAutoVTs=6

# 保留的虚拟终端编号 (整数)
# 默认: 6
# 作用: 为特定用途保留一个虚拟终端
#ReserveVT=6

# =============================================
# 进程管理设置
# =============================================

# 用户注销时是否杀死其进程 (布尔值: yes/no)
# 默认: no
# 作用: no=进程继续运行, yes=用户退出时杀死所有进程
#KillUserProcesses=no

# 指定受进程杀死策略影响的用户列表 (空格分隔的字符串)
# 默认: 空
# 作用: 只有列出的用户会受到KillUserProcesses策略影响
#KillOnlyUsers=

# 排除在进程杀死策略外的用户列表 (空格分隔的字符串)
# 默认: root
# 作用: 列出的用户进程不会被杀死
#KillExcludeUsers=root

# =============================================
# 系统操作延迟设置
# =============================================

# 系统等待程序完成操作的最大时间 (秒，整数)
# 默认: 5
# 作用: 系统等待应用程序处理关机/重启等操作的最大时间
#InhibitDelayMaxSec=5

# 用户会话停止的延迟时间 (秒，整数)
# 默认: 10
# 作用: 停止用户会话前的等待时间
#UserStopDelaySec=10

# =============================================
# 睡眠操作设置
# =============================================

# 睡眠操作顺序 (空格分隔的字符串)
# 默认: suspend-then-hibernate suspend
# 作用: 定义睡眠操作的尝试顺序
# 可用值: suspend, hibernate, hybrid-sleep, suspend-then-hibernate
#SleepOperation=suspend-then-hibernate suspend

# =============================================
# 电源键操作设置
# =============================================

# 电源键短按动作 (字符串)
# 默认: poweroff
# 作用: 按下电源键时的行为
# 可用值: ignore, poweroff, reboot, halt, suspend, hibernate, hybrid-sleep, lock, kexec
HandlePowerKey=suspend # 改为挂起

# 电源键长按动作 (字符串)
# 默认: ignore
# 作用: 长按电源键(通常5秒)时的行为
# 可用值: 同上
#HandlePowerKeyLongPress=ignore

# =============================================
# 重启键操作设置
# =============================================

# 重启键短按动作 (字符串)
# 默认: reboot
# 作用: 按下重启键时的行为(如果有重启键)
# 可用值: 同上
#HandleRebootKey=reboot

# 重启键长按动作 (字符串)
# 默认: poweroff
# 作用: 长按重启键时的行为
# 可用值: 同上
#HandleRebekKeyLongPress=poweroff

# =============================================
# 挂起键操作设置
# =============================================

# 挂起键短按动作 (字符串)
# 默认: suspend
# 作用: 按下挂起键时的行为
# 可用值: 同上
#HandleSuspendKey=suspend

# 挂起键长按动作 (字符串)
# 默认: hibernate
# 作用: 长按挂起键时的行为
# 可用值: 同上
#HandleSuspendKeyLongPress=hibernate

# =============================================
# 休眠键操作设置
# =============================================

# 休眠键短按动作 (字符串)
# 默认: hibernate
# 作用: 按下休眠键时的行为
# 可用值: 同上
#HandleHibernateKey=hibernate

# 休眠键长按动作 (字符串)
# 默认: ignore
# 作用: 长按休眠键时的行为
# 可用值: 同上
#HandleHibernateKeyLongPress=ignore

# =============================================
# 笔记本盖子操作设置
# =============================================

# 使用电池时盒盖动作 (字符串)
# 默认: suspend
# 作用: 笔记本使用电池时关闭盖子的行为
# 可用值: ignore, poweroff, reboot, halt, suspend, hibernate, hybrid-sleep, lock, kexec
HandleLidSwitch=ignore

# 外接电源时盒盖动作 (字符串)
# 默认: suspend
# 作用: 笔记本连接电源时关闭盖子的行为
# 可用值: 同上
HandleLidSwitchExternalPower=ignore

# 连接扩展坞时盒盖动作 (字符串)
# 默认: ignore
# 作用: 笔记本连接扩展坞时关闭盖子的行为
# 可用值: 同上
#HandleLidSwitchDocked=ignore

# =============================================
# 其他设置
# =============================================

# 电源状态改变时是否暂停系统 (布尔值: yes/no)
# 默认: no
# 作用: 当检测到电源状态变化时是否暂停系统
#HoldoffTimeoutSec=30s

# 在系统暂停前等待的时间 (秒，整数)
# 默认: 30
# 作用: 系统进入暂停状态前的等待时间
#IdleAction=ignore

# 空闲动作 (字符串)
# 默认: ignore
# 作用: 系统空闲时执行的操作
# 可用值: ignore, poweroff, reboot, halt, suspend, hibernate, hybrid-sleep
#IdleActionSec=30min

# 执行空闲动作前的时间 (分钟，整数)
# 默认: 30
# 作用: 系统空闲多长时间后执行空闲动作
#RuntimeDirectorySize=10%

# 运行时目录大小限制 (百分比或绝对值)
# 默认: 10%
# 作用: 限制/run/user/<uid>目录的大小
